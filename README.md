# Денис Карачун 053503
## 1. Тема: Интернет-касса с билетами
## 2. Функциональные требования к проекту:
### Роли пользователей:
1. Вокзал
2. Клиент
3. Администратор
### Авторизация пользователя
Пользователь должнен иметь возможность:
- Зарегистрироваться.
- Войти в аккаунт, выйти.
- Восстановить пароль
### Возможности пользователей
- Администратор
    + Создать, удалить, отредактировать вокзал.
    + Создать, просмотреть, отредактировать или удалить любого пользователя

- Вокзал
    + Создать, просмотреть, отредактировать или удалить машинистов.
    + Создать, просмотреть, отредактировать, удалить билеты.
    + Создать, просмотреть, отредактировать, удалить поезда, изменить конфигурацию вагонов поезда.

- Клиент
    + Просмотреть, добавить в корзину, удалить из корзину билеты.
    + Просмотреть информацию о поезде билета (вагоны (их типы), машинисты)

## 3. Список сущностей БД:
- Покупатели
- Корзина
- Администратор
- Билеты
- Станции
- Поезд 
- Типы поезда
- Название типа
- Вагон
- Тип вагона
- Машинист

## 4. Схематично изобразить не нормальзованную схему БД:

## 5. Описать каждую сущность:
- Покупатели (связь с сущностью "корзина" типом связи one-to-one)

| Имя поля | Тип     | Ограничения   |
|----------|---------|---------------|
|CustomerID|INT(4)       |Первичный ключ, обязательное поле, уникальный, авто-инкрементация             |
|Nickname          |VARCHAR(64)         |Обязательное поле, уникальный               |
|City          |VARCHAR(32)         |Необязательное поле, запрет на ввод чисел                 |
|Email          |VARCHAR(64)         |Обязательное поле, уникальная               |
|Name          |VARCHAR(32)         |Обязательное поле, запрет на ввод чисел                |
|Surname          |VARCHAR(32)         |Обязательное поле, запрет на ввод чисел                  |
|Password          |VARCHAR(32)         |Обязательное поле                |

- Корзина (связь с сущностью "корзина" типом связи one-to-one и связь с сущность "Билет" типом связи one-to-many)

| Имя поля | Тип     | Ограничения   |
|----------|---------|---------------|
|CartID|INT(4)       |Первичный ключ, обязательное поле, уникальный, авто-инкрементация             |
|TickedID          |INT(4)         |Внешний ключ к "Tickets", обязательное поле               |
|Total price          |INT(64)         |Обязательное поле                 |

- Администратор

| Имя поля | Тип     | Ограничения   |
|----------|---------|---------------|
|AdminID|INT(4)       |Первичный ключ, обязательное поле, уникальный, авто-инкрементация             |
|Nickname          |VARCHAR(64)         |Обязательное поле, уникальный               |
|Email          |VARCHAR(64)         |Обязательное поле, уникальная               |
|Password          |VARCHAR(32)         |Обязательное поле                |


- Билеты (связь с сущностью "корзина" типом связи one-to-many, связь с сущностью "поезд" типом связи one-to-one, связь с сущностью "станции" типом связи one-to-many)

| Имя поля | Тип     | Ограничения   |
|----------|---------|---------------|
|TicketID|INT(4)       |Первичный ключ, обязательное поле, уникальный, авто-инкрементация |
|Starting point |VARCHAR(64) |Обязательное поле |
|Destination point |VARCHAR(64) |Обязательное поле |
|Price |INT(64) |Обязательное поле |
|TrainID |INT(4) |Внешний ключ к "Train", обязательное поле |
|Departure time |DATETIME |Обязательное поле |
|Arriving time |DATETIME |Обязательное поле |
|IsBought |INT(1) |Обязательное поле, только '1' или '0' |

- Станции (связь с сущностью "билеты" типом связи one-to-many)

| Имя поля | Тип     | Ограничения   |
|----------|---------|---------------|
|StationID |INT(4)       |Первичный ключ, обязательное поле, уникальный, авто-инкрементация |
|Station name |VARCHAR(64) |Обязательное поле |
|Address |VARCHAR(64) |Обязательное поле, уникальный |
|TicketID |INT(4) |Внешний ключ к "Tickets", обязательное поле |
|Login |VARCHAR(32) |Обязательное поле |
|Password |VARCHAR(32) |Обязательное поле |
|Email |VARCHAR(64) |Обязательное поле, уникальная |

- Поезд (связь с сущностью "машинисты" типом связи many-to-many, связь с сущностью "тип вагона" типом связи one-to-many, связь с сущностью "типы поезда" типом связи one-to-one)

| Имя поля | Тип     | Ограничения   |
|----------|---------|---------------|
|TrainID |INT(4)       |Первичный ключ, обязательное поле, уникальный, авто-инкрементация |
|MachinistID |INT(4) |Внешний ключ к "Machinists", обязательное поле |

- Машинисты (связь с сущностью "поезд" типом связи many-to-many)
 
| Имя поля | Тип     | Ограничения   |
|----------|---------|---------------|
|MachinistID |INT(4)       |Первичный ключ, обязательное поле, уникальный, авто-инкрементация |
|TrainID |INT(4) |Внешний ключ к "Train", обязательное поле | 
|Name  |VARCHAR(32)         |Обязательное поле, запрет на ввод чисел  |
|Surname          |VARCHAR(32)   |Обязательное поле, запрет на ввод чисел  |

- Типы поезда (связь с сущностью "поезд" типом связи one-to-many, связь с сущностью "название типа" типом связи one-to-many)
| Имя поля | Тип     | Ограничения   |
|----------|---------|---------------|
|TrainTypesID |INT(4)       |Первичный ключ, обязательное поле, уникальный, авто-инкрементация |
|TrainID |INT(4) |Внешний ключ к "Train", обязательное поле | 
|TypeID |INT(4) |Внешний ключ к "TypeName", обязательное поле | 

- Название типа (связь с сущностью "типы поезда" типом связи one-to-many)
| Имя поля | Тип     | Ограничения   |
|----------|---------|---------------|
|TypeID |INT(4)       |Первичный ключ, обязательное поле, уникальный, авто-инкрементация |
|Name |VARCHAR(64) |Обязательное поле, уникальное | 

- Типы вагона (связь с сущностью "поезд" типом связи one-to-many, связь с сущностью "вагон" типом связи one-to-many)
| Имя поля | Тип     | Ограничения   |
|----------|---------|---------------|
|ID |INT(4)       |Первичный ключ, обязательное поле, уникальный, авто-инкрементация |
|TrainID |INT(4) |Внешний ключ к "Train", обязательное поле | 
|CarriageID |INT(4) |Внешний ключ к "Carriage", обязательное поле |

- Вагон (связь с сущностью "типы вагона" типом связи one-to-many)
| Имя поля | Тип     | Ограничения   |
|----------|---------|---------------|
|CarriageID |INT(4)       |Первичный ключ, обязательное поле, уникальный, авто-инкрементация |
|CarriageName |VARCHAR(64) |Обязательное поле, уникальное | 
